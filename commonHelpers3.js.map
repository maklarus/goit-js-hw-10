{"version":3,"file":"commonHelpers3.js","sources":["../src/js/1-timer.js","../src/js/2-snackbar.js"],"sourcesContent":["// Описаний в документації\nimport flatpickr from 'flatpickr';\n// Додатковий імпорт стилів\nimport 'flatpickr/dist/flatpickr.min.css';\n// Описаний у документації\nimport iziToast from 'izitoast';\n// Додатковий імпорт стилів\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst calendar = document.querySelector('#datetime-picker');\nconst buttonStart = document.querySelector('button');\nconst days = document.querySelector('[data-days]');\nconst hours = document.querySelector('[data-hours]');\nconst minutes = document.querySelector('[data-minutes]');\nconst seconds = document.querySelector('[data-seconds]');\n\nfunction convertMs(ms) {\n  // Number of milliseconds per unit of time\n  const second = 1000;\n  const minute = second * 60;\n  const hour = minute * 60;\n  const day = hour * 24;\n\n  // Remaining days\n  const days = Math.floor(ms / day);\n  // Remaining hours\n  const hours = Math.floor((ms % day) / hour);\n  // Remaining minutes\n  const minutes = Math.floor(((ms % day) % hour) / minute);\n  // Remaining seconds\n  const seconds = Math.floor((((ms % day) % hour) % minute) / second);\n\n  return { days, hours, minutes, seconds };\n}\n\nlet userSelectedDates;\nlet countdownInterval;\nbuttonStart.disabled = true;\n\nconst options = {\n  enableTime: true,\n  time_24hr: true,\n  defaultDate: new Date(),\n  minuteIncrement: 1,\n  onClose(selectedDates) {\n    if (selectedDates[0] > new Date()) {\n      userSelectedDates = selectedDates;\n      buttonStart.disabled = false;\n    } else {\n      iziToast.show({\n        message: 'Please choose a date in the future',\n        position: 'topRight',\n        titleColor: '#fff',\n        messageColor: '#fff',\n        backgroundColor: 'tomato',\n      });\n      buttonStart.disabled = true;\n    }\n  },\n};\n\nflatpickr(calendar, options);\n\nfunction addLeadingZero(value) {\n  return value < 10 ? '0' + value : value;\n}\n\nfunction updateTimer() {\n  const userSelectedDate = userSelectedDates[0];\n  const currentDate = new Date();\n\n  const timeDifference = userSelectedDate - currentDate;\n\n  if (timeDifference <= 0) {\n    clearInterval(countdownInterval);\n    return;\n  }\n\n  const msToDate = convertMs(timeDifference);\n\n  days.innerHTML = addLeadingZero(msToDate.days);\n  hours.innerHTML = addLeadingZero(msToDate.hours);\n  minutes.innerHTML = addLeadingZero(msToDate.minutes);\n  seconds.innerHTML = addLeadingZero(msToDate.seconds);\n}\n\nfunction startTimer() {\n  buttonStart.disabled = true;\n  calendar.disabled = true;\n\n  updateTimer();\n\n  countdownInterval = setInterval(updateTimer, 1000);\n}\n\nbuttonStart.addEventListener('click', startTimer);\n","// // Описаний у документації\n// import iziToast from 'izitoast';\n// // Додатковий імпорт стилів\n// import 'izitoast/dist/css/iziToast.min.css';\n\n// const form = document.querySelector('.form');\n\n// function createPromis(event) {\n//   event.preventDefault();\n\n//   const notificationDelay = form.elements['delay'].value;\n//   const notificationState = document.querySelector(\n//     'input[name=\"state\"]:checked'\n//   ).value;\n\n//   if (notificationState === 'rejected') {\n//     const fulfilledPromise = notificationDelay => {\n//       return new Promise((resolve, reject) => {\n//         setTimeout(() => {\n//           resolve(\n//             iziToast.show({\n//               message: 'Please choose a date in the future',\n//               position: 'topRight',\n//               titleColor: '#fff',\n//               messageColor: '#fff',\n//               backgroundColor: 'tomato',\n//             })\n//           );\n//         }, notificationDelay);\n//       });\n//     };\n//   }\n\n//   console.log(notificationState, notificationDelay);\n// }\n\n// form.addEventListener('submit', createPromis);\n\n// import iziToast from 'izitoast';\n// import 'izitoast/dist/css/iziToast.min.css';\n\n// const form = document.querySelector('.form');\n\n// function createPromise(event) {\n//   event.preventDefault();\n\n//   const notificationDelay = form.elements['delay'].value;\n//   const notificationState = document.querySelector(\n//     'input[name=\"state\"]:checked'\n//   ).value;\n\n//   if (notificationState === 'rejected') {\n//     const fulfilledPromise = new Promise((resolve, reject) => {\n//       setTimeout(() => {\n//         reject(\n//           iziToast.show({\n//             message: 'Please choose a date in the future',\n//             position: 'topRight',\n//             titleColor: '#fff',\n//             messageColor: '#fff',\n//             backgroundColor: 'tomato',\n//           })\n//         );\n//       }, notificationDelay);\n//     });\n\n//     fulfilledPromise.catch(error => {\n//       console.error('Promise rejected:', error);\n//     });\n//   }\n\n//   console.log(notificationState, notificationDelay);\n// }\n\n// form.addEventListener('submit', createPromise);\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nconst form = document.querySelector('.form');\n\nform.addEventListener('submit', function (event) {\n  event.preventDefault();\n\n  const delay = form.elements['delay'].value;\n  const state = document.querySelector('input[name=\"state\"]:checked').value;\n\n  if (delay > 0) {\n    const promise = new Promise((resolve, reject) => {\n      setTimeout(() => {\n        if (state === 'fulfilled') {\n          resolve(delay);\n        } else {\n          reject(delay);\n        }\n      }, delay);\n    });\n\n    promise\n      .then(delay => {\n        iziToast.show({\n          message: `✅ Fulfilled promise in ${delay}ms`,\n          position: 'topRight',\n          titleColor: '#fff',\n          messageColor: '#fff',\n          backgroundColor: 'green',\n        });\n      })\n      .catch(delay => {\n        iziToast.show({\n          message: `❌ Rejected promise in ${delay}ms`,\n          position: 'topRight',\n          titleColor: '#fff',\n          messageColor: '#fff',\n          backgroundColor: 'red',\n        });\n      });\n  } else {\n    iziToast.show({\n      message: `Delay must be more then 0`,\n      position: 'topRight',\n      titleColor: '#fff',\n      messageColor: '#fff',\n      backgroundColor: 'red',\n    });\n  }\n});\n"],"names":["calendar","buttonStart","days","hours","minutes","seconds","convertMs","ms","userSelectedDates","countdownInterval","options","selectedDates","iziToast","flatpickr","addLeadingZero","value","updateTimer","timeDifference","msToDate","startTimer","form","event","delay","state","resolve","reject"],"mappings":"6vBASA,MAAMA,EAAW,SAAS,cAAc,kBAAkB,EACpDC,EAAc,SAAS,cAAc,QAAQ,EAC7CC,EAAO,SAAS,cAAc,aAAa,EAC3CC,EAAQ,SAAS,cAAc,cAAc,EAC7CC,EAAU,SAAS,cAAc,gBAAgB,EACjDC,EAAU,SAAS,cAAc,gBAAgB,EAEvD,SAASC,EAAUC,EAAI,CAQrB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAE1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EAEpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EAEjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAElE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACxC,CAEA,IAAIG,EACAC,EACJR,EAAY,SAAW,GAEvB,MAAMS,EAAU,CACd,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CACjBA,EAAc,CAAC,EAAI,IAAI,MACzBH,EAAoBG,EACpBV,EAAY,SAAW,KAEvBW,EAAS,KAAK,CACZ,QAAS,qCACT,SAAU,WACV,WAAY,OACZ,aAAc,OACd,gBAAiB,QACzB,CAAO,EACDX,EAAY,SAAW,GAE1B,CACH,EAEAY,EAAUb,EAAUU,CAAO,EAE3B,SAASI,EAAeC,EAAO,CAC7B,OAAOA,EAAQ,GAAK,IAAMA,EAAQA,CACpC,CAEA,SAASC,GAAc,CAIrB,MAAMC,EAHmBT,EAAkB,CAAC,EACxB,IAAI,KAIxB,GAAIS,GAAkB,EAAG,CACvB,cAAcR,CAAiB,EAC/B,MACD,CAED,MAAMS,EAAWZ,EAAUW,CAAc,EAEzCf,EAAK,UAAYY,EAAeI,EAAS,IAAI,EAC7Cf,EAAM,UAAYW,EAAeI,EAAS,KAAK,EAC/Cd,EAAQ,UAAYU,EAAeI,EAAS,OAAO,EACnDb,EAAQ,UAAYS,EAAeI,EAAS,OAAO,CACrD,CAEA,SAASC,GAAa,CACpBlB,EAAY,SAAW,GACvBD,EAAS,SAAW,GAEpBgB,IAEAP,EAAoB,YAAYO,EAAa,GAAI,CACnD,CAEAf,EAAY,iBAAiB,QAASkB,CAAU,EChBhD,MAAMC,EAAO,SAAS,cAAc,OAAO,EAE3CA,EAAK,iBAAiB,SAAU,SAAUC,EAAO,CAC/CA,EAAM,eAAc,EAEpB,MAAMC,EAAQF,EAAK,SAAS,MAAS,MAC/BG,EAAQ,SAAS,cAAc,6BAA6B,EAAE,MAEhED,EAAQ,EACM,IAAI,QAAQ,CAACE,EAASC,IAAW,CAC/C,WAAW,IAAM,CACXF,IAAU,YACZC,EAAQF,CAAK,EAEbG,EAAOH,CAAK,CAEf,EAAEA,CAAK,CACd,CAAK,EAGE,KAAKA,GAAS,CACbV,EAAS,KAAK,CACZ,QAAS,0BAA0BU,CAAK,KACxC,SAAU,WACV,WAAY,OACZ,aAAc,OACd,gBAAiB,OAC3B,CAAS,CACT,CAAO,EACA,MAAMA,GAAS,CACdV,EAAS,KAAK,CACZ,QAAS,yBAAyBU,CAAK,KACvC,SAAU,WACV,WAAY,OACZ,aAAc,OACd,gBAAiB,KAC3B,CAAS,CACT,CAAO,EAEHV,EAAS,KAAK,CACZ,QAAS,4BACT,SAAU,WACV,WAAY,OACZ,aAAc,OACd,gBAAiB,KACvB,CAAK,CAEL,CAAC"}